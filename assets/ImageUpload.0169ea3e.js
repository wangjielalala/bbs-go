import{y as E,z as x,w as V,x as b}from"./index.ebe893a0.js";/* empty css               *//* empty css               */import{e as I,c as C,B as c,aD as r,aG as U,F as a,C as l,aH as i,u as s,E as w,aE as B,D as N,af as P,bL as S,a5 as z,bM as $}from"./arco.bfc06e8a.js";const L={key:0,class:"arco-upload-list-picture custom-upload-avatar"},D=["src"],H={class:"arco-upload-list-picture-mask"},R={key:1,class:"arco-upload-picture-card"},T={class:"arco-upload-picture-card-text"},F=a("div",{style:{"margin-top":"10px","font-weight":"600"}},"Upload",-1),G={__name:"ImageUpload",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:u}){const p=u,e=I(),d=C(()=>`https://mlog.club/api/upload?userToken=${E()}`),m=(o,t)=>{e.value={...t}},_=o=>{e.value=o},f=()=>{x("\u4E0A\u4F20\u5931\u8D25")},g=o=>{const t=o.response;t.success?(p("update:modelValue",t.data.url),V("\u4E0A\u4F20\u6210\u529F")):b(t)};return(o,t)=>{const h=P,y=S,k=z,v=$;return c(),r(v,{action:s(d),"file-list":s(e)?[s(e)]:[],"show-file-list":!1,accept:"images/*",name:"image","with-credentials":"",onChange:m,onProgress:_,onSuccess:g,onError:f},{"upload-button":U(()=>[a("div",{class:N(`arco-upload-list-item${s(e)&&s(e).status==="error"?" arco-upload-list-item-error":""}`)},[n.modelValue?(c(),l("div",L,[a("img",{src:n.modelValue},null,8,D),a("div",H,[i(h)]),s(e)&&s(e).status==="uploading"&&s(e).percent<100?(c(),r(y,{key:0,percent:s(e).percent,type:"circle",size:"mini",style:w({position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"})},null,8,["percent","style"])):B("",!0)])):(c(),l("div",R,[a("div",T,[i(k),F])]))],2)]),_:1},8,["action","file-list"])}}},q=G;export{q as I};
